#---------------------------------------------------#
## é…ç½®æ–‡ä»¶éœ€è¦æ”¾ç½®åœ¨ $HOME/.config/clash.meta/*.yaml

## è¿™ä»½æ–‡ä»¶æ˜¯clashXçš„åŸºç¡€é…ç½®æ–‡ä»¶ï¼Œè¯·å°½é‡æ–°å»ºé…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚

## å¦‚æœæ‚¨ä¸çŸ¥é“å¦‚ä½•æ“ä½œï¼Œè¯·å‚é˜…
## Clash Meta wiki  https://docs.metacubex.one
## Clash Meta wiki  https://clash-meta.wiki
## Clash Meta Githubæ–‡æ¡£  https://github.com/MetaCubeX/Clash.Meta/blob/Alpha/README.md

#---------------------------------------------------#

mode: rule
ipv6: true
log-level: info
allow-lan: true
port: 7890
socks-port: 7891
redir-port: 7892
mixed-port: 7893
tproxy-port: 7895
unified-delay: false
tcp-concurrent: true
external-controller: 0.0.0.0:9090
secret: '123456'
bind-address: "*"
external-ui: "./ui"

# ä¸º Linux ä¸‹çš„å‡ºç«™è¿æ¥æä¾›é»˜è®¤æµé‡æ ‡è®°
routing-mark: 2233

geodata-mode: true
geox-url:
  geoip: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
  mmdb: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb"

find-process-mode: strict
global-client-fingerprint: chrome

profile:
  store-selected: true
  store-fake-ip: true

sniffer:
  enable: true
  sniff:
    TLS:
      ports: [443, 8443]
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true

tun:
  enable: true
  stack: gvisor
  dns-hijack:
    - 'any:53'
  auto-route: true
  auto-detect-interface: true

dns:
  enable: true
  listen: :1053
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 28.0.0.1/8
  fake-ip-filter:
    - '*'
    - '+.lan'
    - '+.local'
  nameserver:
    - https://doh.pub/dns-query
  proxy-server-nameserver:
    - https://dns.nextdns.io/5a8546
  nameserver-policy:
    "geosite:cn,private":
      - https://doh.pub/dns-query
      - https://dns.alidns.com/dns-query

proxies:
  - name: "ğŸ‡¸ğŸ‡¬ [vless-reality-vision] æ–°å®¶å¡-me"
    type: vless
    server: 13.229.96.4
    port: 59181
    uuid: dea3aec8-c71e-4333-c0fe-98409885f591
    network: tcp
    tls: true
    udp: true
    flow: xtls-rprx-vision
    servername: addons.mozilla.org
    reality-opts:
      public-key: "qhTzYYIgBzDLNYR79oxftqdo1kzL-1_hGJKfqrOliCY"
      short-id: 9ab288f7
    client-fingerprint: chrome

proxy-groups:
  - name: "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    type: select
    proxies:
      - "â™»ï¸ è‡ªåŠ¨é€‰æ‹©"
      - "ğŸ‡¸ğŸ‡¬ [vless-reality-vision] æ–°å®¶å¡-me"
      - DIRECT
  - name: "â™»ï¸ è‡ªåŠ¨é€‰æ‹©"
    type: url-test
    url: http://cp.cloudflare.com/generate_204
    interval: '180'
    tolerance: '100'
    proxies:
      - "ğŸ‡¸ğŸ‡¬ [vless-reality-vision] æ–°å®¶å¡-me"
  - name: â“‚ï¸ å¾®è½¯æœåŠ¡
    type: select
    proxies:
      - DIRECT
      - "ğŸ‡¸ğŸ‡¬ [vless-reality-vision] æ–°å®¶å¡-me"
  - name: "ğŸ è‹¹æœæœåŠ¡"
    type: select
    proxies:
      - DIRECT
      - "ğŸ‡¸ğŸ‡¬ [vless-reality-vision] æ–°å®¶å¡-me"
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
  - name: "ğŸ“º å“”å“©ä¸œå—äºš"
    type: select
    proxies:
      - DIRECT
      - "ğŸ‡¸ğŸ‡¬ [vless-reality-vision] æ–°å®¶å¡-me"
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
  - name: "ğŸŸ æ¼ç½‘ä¹‹é±¼"
    type: select
    proxies:
      - "â™»ï¸ è‡ªåŠ¨é€‰æ‹©"
      - "ğŸ‡¸ğŸ‡¬ [vless-reality-vision] æ–°å®¶å¡-me"
      - DIRECT
rule-providers:
  reject:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
    path: ./ruleset/reject.yaml
    interval: 86400
rules:
  # è‡ªå·±çš„è§„åˆ™æ”¾
  - DOMAIN-SUFFIX,fillpit.top,DIRECT
  - DOMAIN-SUFFIX,pingan.com.cn,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - DOMAIN,clash.razord.top,DIRECT
  - DOMAIN,yacd.haishan.me,DIRECT

  # å¸¸ç”¨å±€åŸŸç½‘ ip æ®µ ç›´è¿
  - GEOIP,LAN,DIRECT

  # ******** è‡ªå®šä¹‰ è§„åˆ™åŒºåŸŸ start ********
  # ****** é»˜è®¤ éå›½å†…çš„åŸŸåå’Œipéƒ½èµ°ä»£ç† ******
  # ****** ä¹Ÿå°±æ˜¯è¯´åˆ†æµè§„åˆ™è¿™é‡Œä¸»è¦å…³æ³¨ éœ€è¦ç›´è¿çš„åœ°å€ å’Œéœ€è¦å±è”½çš„åœ°å€ (æ²¡åŒ¹é…ä¸Šçš„éƒ½èµ°ä»£ç†) ******

  # å¹¿å‘ŠåŸŸå å±è”½
  - RULE-SET,reject,REJECT
  # æµ‹é€Ÿç½‘ç«™ ç›´è¿
  - GEOSITE,speedtest,DIRECT
    # ç§æœ‰ç½‘ç»œä¸“ç”¨åŸŸå
  - GEOSITE,private,DIRECT
    # å“”å“©å“”å“© ç›´è¿
  - GEOSITE,bilibili,DIRECT
  # å¾®è½¯å®¶çš„æœåŠ¡ èµ°ä»£ç†
  - GEOSITE,microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡
  # apple çš„æœåŠ¡
  - "GEOSITE,apple,ğŸ è‹¹æœæœåŠ¡"
  # telegram
  - GEOSITE,telegram,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  # å¨±ä¹ç±»
  - GEOSITE,category-entertainment,â™»ï¸ è‡ªåŠ¨é€‰æ‹©

  # ******** è‡ªå®šä¹‰ è§„åˆ™åŒºåŸŸ end ********

  # å›½å†…åŸŸå ç›´è¿
  - GEOSITE,CN,DIRECT
  # å›½å†… ip ç›´è¿
  - GEOIP,CN,DIRECT
  # æ²¡åŒ¹é…ä¸Šçš„
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼